<!doctype html>
<html lang="ko-KR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.22" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/images/logo.png"><meta name="author" content="The VuePress Team"><meta name="keywords" content="vuepress, vue, Documentation, Blog"><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileImage" content="/images/icons/mstile-150x150.png"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="application-name" content="VuePress Document templates"><meta name="mobile-web-app-capable" content="yes"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><title>Defining validation rules</title><meta name="description" content="The Empasy document">
    <link rel="preload" href="/assets/style-BvRKiRGL.css" as="style"><link rel="stylesheet" href="/assets/style-BvRKiRGL.css">
    <link rel="modulepreload" href="/assets/app-QFoJTndn.js"><link rel="modulepreload" href="/assets/defining-validation-rules.html-CezbqgYg.js">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/.vuepress/public/images/logo-dark.png" alt><!----></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Homepage"><!--[--><!--[--><!--]--><!--]-->Homepage<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/synceta/" aria-label="SyncETA"><!--[--><!--[--><!--]--><!--]-->SyncETA<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/syncboot/" aria-label="SyncBoot"><!--[--><!--[--><!--]--><!--]-->SyncBoot<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/synccms/" aria-label="SyncCms"><!--[--><!--[--><!--]--><!--]-->SyncCms<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/syncadmin/" aria-label="SyncAdmin"><!--[--><!--[--><!--]--><!--]-->SyncAdmin<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yourusername/vuepress-template" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search for documents" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Homepage"><!--[--><!--[--><!--]--><!--]-->Homepage<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/synceta/" aria-label="SyncETA"><!--[--><!--[--><!--]--><!--]-->SyncETA<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/syncboot/" aria-label="SyncBoot"><!--[--><!--[--><!--]--><!--]-->SyncBoot<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/synccms/" aria-label="SyncCms"><!--[--><!--[--><!--]--><!--]-->SyncCms<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/syncadmin/" aria-label="SyncAdmin"><!--[--><!--[--><!--]--><!--]-->SyncAdmin<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yourusername/vuepress-template" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">SyncBoot <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/syncboot/" aria-label="Summary"><!--[--><!--[--><!--]--><!--]-->Summary<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/syncboot/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/syncboot/Introduction.html" aria-label="Introduction"><!--[--><!--[--><!--]--><!--]-->Introduction<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="defining-validation-rules" tabindex="-1"><a class="header-anchor" href="#defining-validation-rules"><span>Defining validation rules</span></a></h1><p>Validation rules can be used to validate the codes in the form, for example, to validate complex codes.</p><h2 id="create-a-rule" tabindex="-1"><a class="header-anchor" href="#create-a-rule"><span>Create a rule</span></a></h2><p><img src="https://lfs.k.topthink.com/lfs/c53fa8092fbc07d72ed9037a5ab663dbbd36e1429066dba288b154da044aad7f.dat" alt=""></p><h3 id="local-rules" tabindex="-1"><a class="header-anchor" href="#local-rules"><span>Local rules</span></a></h3><p>Local rules check in order according to the number of digits you input.<br> You can add multiple lines of local rules and judge them line by line in the order they are added .<br> For example, if the number of digits in the first line is 3, the number of digits in the second line is 2, and the number of digits in the third line is 4, then in actual verification, the first line checks <code>1-3</code>the bit string, the second line starts from the end of the previous line and moves back 2 bits, that is, <code>4-5</code>bits, and the third line and so on, it can be concluded that it is <code>6-9</code>bits.</p><p><img src="https://lfs.k.topthink.com/lfs/78661356cbdfd6c4f1f38020ee99e8e6e428d1b82149dde144c1ab8a77160dcc.dat" alt=""></p><h3 id="global-rules" tabindex="-1"><a class="header-anchor" href="#global-rules"><span>Global Rules</span></a></h3><p>The difference between global rules and local rules is that global rules judge the entire string input by the user, rather than just the first few digits.<br> Global rules have running priorities, which are:<br> * <code>优先运行</code>will be run before local rules<br> * <code>最后运行</code>will be run after all local rules have been verified</p><p><img src="https://lfs.k.topthink.com/lfs/b54ae0503b4820261d47d72535ada71848760f68e636e21e7e3daccef7214109.dat" alt=""></p><h2 id="instructions" tabindex="-1"><a class="header-anchor" href="#instructions"><span>Instructions</span></a></h2><h3 id="step-1-create-a-new-form" tabindex="-1"><a class="header-anchor" href="#step-1-create-a-new-form"><span>Step 1: Create a new Form</span></a></h3><p><img src="https://upload.jeecg.com/jeecg/help/jeecgback/topwrite/assets/image_1692948882347.png" alt=""></p><h3 id="step-2-introduce-tool-classes" tabindex="-1"><a class="header-anchor" href="#step-2-introduce-tool-classes"><span>Step 2: Introduce tool classes</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">import { validateCheckRule } from &#39;/@/views/system/checkRule/check.rule.api&#39;;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>copy</p><h3 id="step-3-use-tool-classes-to-implement-validation-rules" tabindex="-1"><a class="header-anchor" href="#step-3-use-tool-classes-to-implement-validation-rules"><span>Step 3: Use tool classes to implement validation rules</span></a></h3><p><img src="https://upload.jeecg.com/jeecg/help/jeecgback/topwrite/assets/image_1692948720340.png" alt=""></p><h3 id="step-4-check-the-effect" tabindex="-1"><a class="header-anchor" href="#step-4-check-the-effect"><span>Step 4: Check the effect</span></a></h3><p>Failed Effect:<br><img src="https://lfs.k.topthink.com/lfs/adf6f491c8251516bf3476c01bd33876a9ae317fb5764a686456812963bc07e2.dat" alt=""><br><img src="https://lfs.k.topthink.com/lfs/a8a8a852de48590d9e32b64ff92bccbcb939a1da036461e506bb09a507c279c0.dat" alt=""><br><img src="https://lfs.k.topthink.com/lfs/1c0b380c76933baa36b0e607cb61df4ef01de1151b94410c4610c5517b5db4b1.dat" alt=""><br><img src="https://lfs.k.topthink.com/lfs/e859c57ce146507232a7df24ab7b3d4752be3d10110ca0daf777c4828aea177f.dat" alt=""><br> By effect:<br><img src="https://lfs.k.topthink.com/lfs/fdd859531aa8c348caa9c4a59c29be73499e1fc57766c4c9b16b463569cae53e.dat" alt=""></p><h2 id="complete-front-end-code" tabindex="-1"><a class="header-anchor" href="#complete-front-end-code"><span>Complete front-end code</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">&lt;template&gt;</span>
<span class="line">    &lt;a-form style=&quot;padding: 40px&quot; :label-col=&quot;labelCol&quot; :wrapper-col=&quot;wrapperCol&quot;&gt;</span>
<span class="line">        &lt;a-form-item label=&quot;编码&quot; v-bind=&quot;validateInfos.code&quot;&gt;</span>
<span class="line">            &lt;a-input v-model:value=&quot;modelRef.code&quot; /&gt;</span>
<span class="line">        &lt;/a-form-item&gt;</span>
<span class="line">        &lt;a-form-item :wrapper-col=&quot;{ span: wrapperCol.span, offset: labelCol.span }&quot;&gt;</span>
<span class="line">            &lt;a-button type=&quot;primary&quot; @click.prevent=&quot;onSubmit&quot;&gt;提交&lt;/a-button&gt;</span>
<span class="line">            &lt;a-button style=&quot;margin-left: 20px&quot; @click=&quot;resetFields&quot;&gt;重置&lt;/a-button&gt;</span>
<span class="line">        &lt;/a-form-item&gt;</span>
<span class="line">    &lt;/a-form&gt;</span>
<span class="line">&lt;/template&gt;</span>
<span class="line">&lt;script setup&gt;</span>
<span class="line">import { defineComponent, reactive, toRaw } from &#39;vue&#39;;</span>
<span class="line">import { Form } from &#39;ant-design-vue&#39;;</span>
<span class="line">import { validateCheckRule } from &#39;/@/views/system/checkRule/check.rule.api&#39;;</span>
<span class="line">const useForm = Form.useForm;</span>
<span class="line">const labelCol = {</span>
<span class="line">    span: 4,</span>
<span class="line">};</span>
<span class="line">const wrapperCol = {</span>
<span class="line">    span: 14,</span>
<span class="line">};</span>
<span class="line">const modelRef = reactive({</span>
<span class="line">    code: &#39;&#39;,</span>
<span class="line">});</span>
<span class="line">const rulesRef = reactive({</span>
<span class="line">    code: [</span>
<span class="line">        {</span>
<span class="line">            required: true,</span>
<span class="line">            validator: (rule, value) =&gt; {</span>
<span class="line">                 return new Promise((resolve, reject) =&gt; {</span>
<span class="line">                     if (!value) reject(&#39;请输入编码&#39;);</span>
<span class="line">                        validateCheckRule(&#39;common&#39;, value)</span>
<span class="line">                            .then((res) =&gt; {</span>
<span class="line">                                if (res.success) {</span>
<span class="line">                                    resolve();</span>
<span class="line">                                } else {</span>
<span class="line">                                    reject(res.message);</span>
<span class="line">                                }</span>
<span class="line">                    })</span>
<span class="line">                    .catch((err) =&gt; {</span>
<span class="line">                        reject(&#39;网络环境差，请重试~&#39;);</span>
<span class="line">                    });</span>
<span class="line">                });</span>
<span class="line">            },</span>
<span class="line">        },</span>
<span class="line">    ],</span>
<span class="line">});</span>
<span class="line">const { resetFields, validate, validateInfos } = useForm(modelRef, rulesRef);</span>
<span class="line">const onSubmit = () =&gt; {</span>
<span class="line">    validate()</span>
<span class="line">    .then(() =&gt; {</span>
<span class="line">        console.log(toRaw(modelRef));</span>
<span class="line">    })</span>
<span class="line">    .catch((err) =&gt; {</span>
<span class="line">        console.log(&#39;error&#39;, err);</span>
<span class="line">    });</span>
<span class="line">};</span>
<span class="line">&lt;/script&gt;</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><h3 id="how-to-call-the-generated-validation-rule-code-in-the-js-enhancement-of-the-online-form" tabindex="-1"><a class="header-anchor" href="#how-to-call-the-generated-validation-rule-code-in-the-js-enhancement-of-the-online-form"><span>How to call the generated validation rule code in the JS enhancement of the online form?</span></a></h3><p>You can use <code>getAction</code>methods to call the interface to verify the fields</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">beforeSubmit(row){</span>
<span class="line">	return new Promise((resolve, reject)=&gt;{</span>
<span class="line">        getAction(&#39;/sys/checkRule/checkByCode&#39;, { ruleCode:&#39;test&#39;,value: row.name}).then(res =&gt; {</span>
<span class="line">          console.log(&quot;校验结果res&quot;,res)</span>
<span class="line">           if(!res.success){</span>
<span class="line">            reject(res.message)</span>
<span class="line">          }else{</span>
<span class="line">            resolve()</span>
<span class="line">         }</span>
<span class="line">   })</span>
<span class="line">  })</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><p><img src="https://lfs.k.topthink.com/lfs/2f9d2e64d5ef0ebb2a96c18ddcb5db1e0bf2ff90debcf072b89fe357f8ac24fd.dat" alt=""></p><p><img src="https://lfs.k.topthink.com/lfs/2b54479a854ba7f3a8bc53d149f8e0b941be8b67db1980b801935be28bd09e6e.dat" alt=""></p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/yourusername/vuepress-template/edit/main/docs/syncboot/advanced-features/defining-validation-rules.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Edit this page on GitHub<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last updated: </span><time class="meta-item-info" datetime="2025-06-06T03:07:21.000Z" data-allow-mismatch>25. 6. 6. 오후 12:07</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: poh@empasy.com">poh</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-QFoJTndn.js" defer></script>
  </body>
</html>
