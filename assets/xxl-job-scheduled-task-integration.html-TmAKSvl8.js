import{_ as a,c as s,a as t,o as n}from"./app-DeddRHAy.js";const i={};function d(c,e){return n(),s("div",null,e[0]||(e[0]=[t(`<h1 id="xxl-job-scheduled-task-integration" tabindex="-1"><a class="header-anchor" href="#xxl-job-scheduled-task-integration"><span>xxl-job scheduled task integration</span></a></h1><blockquote><p>This article describes how to integrate the scheduled task xxl-job</p></blockquote><h3 id="prerequisite-build-xxljob-service" tabindex="-1"><a class="header-anchor" href="#prerequisite-build-xxljob-service"><span>Prerequisite: Build xxljob service</span></a></h3><h3 id="_1-open-xxljob" tabindex="-1"><a class="header-anchor" href="#_1-open-xxljob"><span>1. Open xxljob</span></a></h3><p>Modify the jeecg-dev.yaml configuration in nacos, enable xxljob and modify the connection address of xxljob-admin<br><img src="https://lfs.k.topthink.com/lfs/28541635e45a4c233060f148452fea43f41661e62c9be5f351043435ae082d84.dat" alt=""></p><h3 id="_2-initialize-the-database" tabindex="-1"><a class="header-anchor" href="#_2-initialize-the-database"><span>2. Initialize the database</span></a></h3><p>Execute script: db/tables_xxl_job.sql</p><p><img src="https://lfs.k.topthink.com/lfs/ce9643e7403325bdde2e9caa0e68fcfcb69b10f3d11d42043db062e545557a4f.dat" alt=""></p><h3 id="_3-start-the-xxl-job-admin-service" tabindex="-1"><a class="header-anchor" href="#_3-start-the-xxl-job-admin-service"><span>3. Start the xxl-job-admin service</span></a></h3><p>Find <code>jeecg-cloud-module/jeecg-cloud-xxljob</code>the class under the project<br><code>com.xxl.job.admin.XxlJobAdminApplication</code>and right-click to run</p><ul><li>Browse to<br><a href="http://localhost:9080/xxl-job-admin" target="_blank" rel="noopener noreferrer">http://localhost:9080/xxl-job-admin.</a><br> Default login account: admin/123456<br><img src="https://lfs.k.topthink.com/lfs/1285a44df58b3768b3aa51dcf1c288a13b422646d6a3bc8e47a67315cd10df64.dat" alt=""></li></ul><h2 id="the-second-step-is-to-integrate-jeecg-boot-starter-job" tabindex="-1"><a class="header-anchor" href="#the-second-step-is-to-integrate-jeecg-boot-starter-job"><span>The second step is to integrate jeecg-boot-starter-job</span></a></h2><h3 id="_1-introduce-jeecg-boot-starter-job-dependency" tabindex="-1"><a class="header-anchor" href="#_1-introduce-jeecg-boot-starter-job-dependency"><span>1. Introduce jeecg-boot-starter-job dependency</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">&lt;!-- 引入定时任务依赖 --&gt;</span>
<span class="line">&lt;dependency&gt;</span>
<span class="line">    &lt;groupId&gt;org.jeecgframework.boot&lt;/groupId&gt;</span>
<span class="line">    &lt;artifactId&gt;jeecg-boot-starter-job&lt;/artifactId&gt;</span>
<span class="line">&lt;/dependency&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><p><img src="https://lfs.k.topthink.com/lfs/1b2c219a70f7f09d0c5c1842b47bcb4c5a3c0d10470bd8023655764dde8992ca.dat" alt=""></p><h3 id="_2-write-a-scheduled-task-handler" tabindex="-1"><a class="header-anchor" href="#_2-write-a-scheduled-task-handler"><span>2. Write a scheduled task handler</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">@Component</span>
<span class="line">@Slf4j</span>
<span class="line">public class DemoJobHandler {</span>
<span class="line"></span>
<span class="line">    @XxlJob(value = &quot;demoJob&quot;)</span>
<span class="line">    public ReturnT&lt;String&gt; demoJobHandler(String params) {</span>
<span class="line">        log.info(&quot;我是定时任务,我执行了...............................&quot;);</span>
<span class="line">        return ReturnT.SUCCESS;</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><h3 id="_3-configure-scheduled-tasks" tabindex="-1"><a class="header-anchor" href="#_3-configure-scheduled-tasks"><span>3. Configure scheduled tasks</span></a></h3><p>Add a new executor (corresponding to the microservice name, needs to be created manually)</p><p><img src="https://lfs.k.topthink.com/lfs/b8a39c03d72c32b8479f1c5c416afd7b32b40b3724a27c24a898ac03e09aa875.dat" alt=""><br> View registered nodes<br><img src="https://lfs.k.topthink.com/lfs/7e44f854c40027a861d80554b3dfd68660f3c99a76fb25c126c4878b42160382.dat" alt=""></p><p>Add a new scheduled task<br><img src="https://lfs.k.topthink.com/lfs/9253c706bc8e1dcc96493ffcf29966c953a31c3186dbddab09157d92d3dd7b42.dat" alt=""></p><p>Test scheduled tasks (prerequisite microservice modules and scheduled task servers have been started)<br><img src="https://lfs.k.topthink.com/lfs/6c587f117af83b6182b0db2fbbd63d17531c9e7170be41f4f7f509b13be63d1e.dat" alt=""><br><img src="https://lfs.k.topthink.com/lfs/eea19c940fe16a2fb4bf612b99637739ac430396f2be940ee5d8fd92be6454da.dat" alt=""></p><p>The execution results are as follows<br><img src="https://upload.jeecg.com/jeecg/help/jeecgback/images/screenshot_1605088198288.png" alt=""></p>`,25)]))}const r=a(i,[["render",d]]),o=JSON.parse('{"path":"/syncboot/microservice/common-starter-integration/xxl-job-scheduled-task-integration.html","title":"xxl-job scheduled task integration","lang":"ko-KR","frontmatter":{"order":5},"git":{"updatedTime":1749179241000,"contributors":[{"name":"poh","username":"poh","email":"poh@empasy.com","commits":1,"url":"https://github.com/poh"}],"changelog":[{"hash":"a96cbbf1f6c96d0e9d6bafa4174131f10429b849","time":1749179241000,"email":"poh@empasy.com","author":"poh","message":"sync 제품군 추가"}]},"filePathRelative":"syncboot/microservice/common-starter-integration/xxl-job-scheduled-task-integration.md"}');export{r as comp,o as data};
