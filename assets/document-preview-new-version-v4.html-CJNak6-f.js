import{_ as n,c as i,a as r,o as a}from"./app-DeddRHAy.js";const s={};function o(t,e){return a(),i("div",null,e[0]||(e[0]=[r(`<h1 id="document-preview-new-version-v4" tabindex="-1"><a class="header-anchor" href="#document-preview-new-version-v4"><span>Document preview new version v4</span></a></h1><h3 id="docker-container-environment-running" tabindex="-1"><a class="header-anchor" href="#docker-container-environment-running"><span>Docker container environment running</span></a></h3><blockquote><p>Version number: <a href="https://kkfileview.keking.cn/zh-cn/docs/production.html" target="_blank" rel="noopener noreferrer">kkfileview 4.1.0</a></p></blockquote><ul><li>Pull the image</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">docker run -it -p 8012:8012 --name kkfileview4.1.0 -d keking/kkfileview:4.1.0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>copy</p><ul><li>Restart the docker image</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">docker restart  kkfileview4.1.0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>copy</p><ul><li>Upgrade Instructions</li></ul><p>From <code>KkFileview-v3.3.0</code>now on, the file preview address adopts the base64+urlencode double encoding rule.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">import {encryptByBase64} from &quot;@/utils/cipher&quot;;</span>
<span class="line"></span>
<span class="line">let url = encodeURIComponent(encryptByBase64(record.url));</span>
<span class="line">let previewUrl = \`\${glob.viewUrl}?url=\` + url;</span>
<span class="line">window.open(previewUrl, &#39;_blank&#39;);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><h3 id="common-problem" tabindex="-1"><a class="header-anchor" href="#common-problem"><span>common problem</span></a></h3><p><a href="https://blog.csdn.net/zhuiguhenman/article/details/135477043" target="_blank" rel="noopener noreferrer">kkfile configures https domain name</a></p>`,15)]))}const c=n(s,[["render",o]]),d=JSON.parse('{"path":"/syncboot/common-functions/document-preview-new-version-v4.html","title":"Document preview new version v4","lang":"ko-KR","frontmatter":{"order":4},"git":{"updatedTime":1749179241000,"contributors":[{"name":"poh","username":"poh","email":"poh@empasy.com","commits":1,"url":"https://github.com/poh"}],"changelog":[{"hash":"a96cbbf1f6c96d0e9d6bafa4174131f10429b849","time":1749179241000,"email":"poh@empasy.com","author":"poh","message":"sync 제품군 추가"}]},"filePathRelative":"syncboot/common-functions/document-preview-new-version-v4.md"}');export{c as comp,d as data};
