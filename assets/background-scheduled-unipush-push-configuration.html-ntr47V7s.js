import{_ as n,c as s,a,o as t}from"./app-QFoJTndn.js";const i={};function p(l,e){return t(),s("div",null,e[0]||(e[0]=[a(`<h1 id="background-scheduled-unipush-push-configuration" tabindex="-1"><a class="header-anchor" href="#background-scheduled-unipush-push-configuration"><span>Background scheduled unipush push configuration</span></a></h1><p>org.jeecg.modules.eoa.config.UniappConstant</p><h3 id="_1-unipush-activation-guide" tabindex="-1"><a class="header-anchor" href="#_1-unipush-activation-guide"><span>1. UniPush Activation Guide</span></a></h3><p><a href="https://ask.dcloud.net.cn/article/35716" target="_blank" rel="noopener noreferrer">https://ask.dcloud.net.cn/article/35716</a></p><h3 id="_2-uniappconstant-configuration-profile" tabindex="-1"><a class="header-anchor" href="#_2-uniappconstant-configuration-profile"><span>2.UniappConstant configuration profile:</span></a></h3><p><img src="https://lfs.k.topthink.com/lfs/85876910d4aebfaeb7f9ea6e56cdd4e1b63b11972fcfaa727a4ba38ae3aecdf7.dat" alt=""></p><h4 id="_2-1-obtaining-appid-and-other-configurations" tabindex="-1"><a class="header-anchor" href="#_2-1-obtaining-appid-and-other-configurations"><span>2.1 Obtaining appid and other configurations:</span></a></h4><p>After unipush is activated, you can obtain the configuration information of appid, appkey, and masterSecret, which can be found in the following figure<br><img src="https://lfs.k.topthink.com/lfs/3546f7c0d4663341567d36bf663502329eb6b1b36788ea1fdab69460d872beb4.dat" alt=""></p><h4 id="_2-2-intent-configuration" tabindex="-1"><a class="header-anchor" href="#_2-2-intent-configuration"><span>2.2 intent configuration:</span></a></h4><p>When using manufacturer push to send push messages, you must set intent, and the intent must comply with the following format. This format is a secondary package based on the individual push definition, so this format must be used as the standard. If you do not set the intent in this format, the user may not be able to start the APP when clicking on the push message.<br> The intent data format is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">intent:#Intent;action=android.intent.action.oppopush;launchFlags=0x14000000;component=io.dcloud.HBuilder/io.dcloud.PandoraEntry;S.UP-OL-SU=true;S.title=测试标题;S.content=测试内容;S.payload=test;end</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>copy</p><p><strong>Among them, io.dcloud.HBuilder is the APP package name, which needs to be replaced with the package name of your own APP;</strong><br> The value of S.title= is the push message title, which corresponds to the title attribute value of the PushMessage object in the 5+ API; <a href="https://www.html5plus.org/doc/zh_cn/push.html#plus.push.PushMessage" target="_blank" rel="noopener noreferrer">The</a><br> value of S.content= is the push message content, which corresponds to the content attribute value of <a href="https://www.html5plus.org/doc/zh_cn/push.html#plus.push.PushMessage" target="_blank" rel="noopener noreferrer">the PushMessage object in the 5+ API; The value of S.payload= is the data of the push message, which corresponds to the payload attribute value of</a> <a href="https://www.html5plus.org/doc/zh_cn/push.html#plus.push.PushMessage" target="_blank" rel="noopener noreferrer">the PushMessage</a> object<br> in the 5+ API ; <strong>The launchFlags=0x14000000 field solves the problem that clicking after receiving multiple notifications may not trigger the click event</strong><a href="https://www.html5plus.org/doc/zh_cn/push.html#plus.push.PushMessage" target="_blank" rel="noopener noreferrer"></a></p><p>Precautions:</p><ul><li>The intent format is different from that described in the multi-vendor PDF document of Getui. Please refer to this format.</li><li>Intent is for compatibility with Android platform data, but in order to maintain compatibility, it is recommended that iOS platform also configure this data</li><li>action=android.intent.action.oppopush is fixed data, which is compatible with the offline push function of OPPO devices and does not need to be modified</li><li>io.dcloud.HBuilder in component=io.dcloud.HBuilder/io.dcloud.PandoraEntry is the package name of the application, which is consistent with the Android package name set in the App cloud packaging interface</li></ul><p><em>Some content is excerpted from: <a href="https://ask.dcloud.net.cn/article/35622" target="_blank" rel="noopener noreferrer">https://ask.dcloud.net.cn/article/35622</a></em></p><h3 id="_3-server-access-steps" tabindex="-1"><a class="header-anchor" href="#_3-server-access-steps"><span>3. Server access steps</span></a></h3><p><strong>STEP1:</strong> Get basic information of the application: AppId, AppKey, masterSecret.<br><strong>STEP2:</strong> Set push title and push content<br><strong>STEP3:</strong> Set push effects such as ringing and vibration<br><strong>STEP4:</strong> Select notification template<br><strong>STEP5:</strong> Set push parameters such as push message validity period<br><strong>STEP6:</strong> Execute push<br><strong>STEP7:</strong> Open the phone to view the message in the notification bar</p><h4 id="code-example" tabindex="-1"><a class="header-anchor" href="#code-example"><span><strong>Code example:</strong></span></a></h4><p>import com.gexin.rp.sdk.base.IPushResult;<br> import com.gexin.rp.sdk.base.impl.AppMessage;<br> import com.gexin.rp.sdk.http.IGtPush;<br> import com.gexin.rp.sdk.template.LinkTemplate;</p><p>import java.io.IOException;<br> import java.util.ArrayList;<br> import java.util.List;</p><p>public class AppPush {</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">// STEP1：获取应用基本信息</span>
<span class="line">private static String appId = &quot;&quot;;</span>
<span class="line">private static String appKey = &quot;&quot;;</span>
<span class="line">private static String masterSecret = &quot;&quot;;</span>
<span class="line">// 如果需要使用HTTPS，直接修改url即可</span>
<span class="line">//private static String url = &quot;https://api.getui.com/apiex.htm&quot;;</span>
<span class="line">private static String url = &quot;http://api.getui.com/apiex.htm&quot;;</span>
<span class="line"></span>
<span class="line">public static void main(String[] args) throws IOException {</span>
<span class="line"></span>
<span class="line">    IGtPush push = new IGtPush(url, appKey, masterSecret);</span>
<span class="line"></span>
<span class="line">    Style0 style = new Style0();</span>
<span class="line">    // STEP2：设置推送标题、推送内容</span>
<span class="line">    style.setTitle(&quot;请输入通知栏标题&quot;);</span>
<span class="line">    style.setText(&quot;请输入通知栏内容&quot;);</span>
<span class="line">    style.setLogo(&quot;push.png&quot;);  // 设置推送图标</span>
<span class="line">    // STEP3：设置响铃、震动等推送效果</span>
<span class="line">    style.setRing(true);  // 设置响铃</span>
<span class="line">    style.setVibrate(true);  // 设置震动</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">    // STEP4：选择通知模板</span>
<span class="line">    NotificationTemplate template = new NotificationTemplate();</span>
<span class="line">    template.setAppId(appId);</span>
<span class="line">    template.setAppkey(appKey);</span>
<span class="line">    template.setStyle(style);</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">    // STEP5：定义&quot;AppMessage&quot;类型消息对象,设置推送消息有效期等推送参数</span>
<span class="line">    List&lt;String&gt; appIds = new ArrayList&lt;String&gt;();</span>
<span class="line">    appIds.add(appId);</span>
<span class="line">    AppMessage message = new AppMessage();</span>
<span class="line">    message.setData(template);</span>
<span class="line">    message.setAppIdList(appIds);</span>
<span class="line">    message.setOffline(true);</span>
<span class="line">    message.setOfflineExpireTime(1000 * 600);  // 时间单位为毫秒</span>
<span class="line"></span>
<span class="line">    // STEP6：执行推送</span>
<span class="line">    IPushResult ret = push.pushMessageToApp(message);</span>
<span class="line">    System.out.println(ret.getResponse().toString());</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><p>}</p><p><em><strong>For specific server push configuration, please refer to the getui documentation: <a href="http://docs.getui.com/" target="_blank" rel="noopener noreferrer">http://docs.getui.com/</a> .</strong></em></p>`,26)]))}const r=n(i,[["render",p]]),c=JSON.parse('{"path":"/syncboot/app-development/project-configuration/background-scheduled-unipush-push-configuration.html","title":"Background scheduled unipush push configuration","lang":"ko-KR","frontmatter":{"order":3},"git":{"updatedTime":1749179241000,"contributors":[{"name":"poh","username":"poh","email":"poh@empasy.com","commits":1,"url":"https://github.com/poh"}],"changelog":[{"hash":"a96cbbf1f6c96d0e9d6bafa4174131f10429b849","time":1749179241000,"email":"poh@empasy.com","author":"poh","message":"sync 제품군 추가"}]},"filePathRelative":"syncboot/app-development/project-configuration/background-scheduled-unipush-push-configuration.md"}');export{r as comp,c as data};
