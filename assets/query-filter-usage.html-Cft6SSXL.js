import{_ as t,c as a,a as n,o as s}from"./app-DeddRHAy.js";const r={};function i(l,e){return s(),a("div",null,e[0]||(e[0]=[n(`<h1 id="query-filter-usage" tabindex="-1"><a class="header-anchor" href="#query-filter-usage"><span>Query filter usage</span></a></h1><p><strong>Directory Index</strong> :</p><ul><li>Functional Description</li><li>Query rules <ol><li>Full match query</li><li>Fuzzy query</li><li>Range Query</li><li>Contains query</li><li>etc...</li></ol></li><li>How query filters are integrated</li><li>More query rule references</li></ul><h1 id="query-filters" tabindex="-1"><a class="header-anchor" href="#query-filters"><span>Query Filters</span></a></h1><h2 id="_1-functional-description" tabindex="-1"><a class="header-anchor" href="#_1-functional-description"><span>1. Functional Description</span></a></h2><p>Query filters can help quickly generate query conditions without coding and can be implemented through configuration. They support fuzzy query, match query, range query, non-match query and other rules.</p><h2 id="_2-query-rules" tabindex="-1"><a class="header-anchor" href="#_2-query-rules"><span>2. Query Rules</span></a></h2><p>**Note: **The page query field must correspond to the field of the Page in the background Controller. The background does not need to write code to automatically generate the query condition SQL;<br> the default query condition is full match. If you want to implement fuzzy query requirements, add: * before and after the query value;</p><p><strong>Query matching rules</strong> :<br> [1]. Full match query: The query data has no special format, and the default is full match query<br> [2]. Fuzzy query: The query data format needs to be added with an asterisk: { * }<br> For example:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">     格式一： 张*    （后模糊匹配）</span>
<span class="line">     格式二： *张    （前模糊匹配）</span>
<span class="line">     格式三： *张*   （全模糊匹配）</span>
<span class="line">     格式四： *张*三* （更高级匹配）</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><p>[3]. Include query: The query data format is comma-separated: { , }<br> For example:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">格式：  张三,李四</span>
<span class="line">       (含义：In(&#39;张三&#39;,&#39;李四&#39;))</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><p>[4]. Unmatched query: The query data format needs to be prefixed with an exclamation mark: { ! }<br> For example:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">格式： !张三</span>
<span class="line">     (含义：不等于&#39;张三&#39;)</span>
<span class="line">    特殊说明：查询不为Null的语法：!null(大小写没关系);</span>
<span class="line">             查询不为空字符串的方法：!(只有一个叹号);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><p>[5]. Range query, supports range query of numbers and time. Two query controls will be generated for the range query page.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">1. 如果是单一匹配方式，则页面查询控件的name， 跟实体字段命名一样</span>
<span class="line">2. 如果是范围匹配方式，则页面查询控件需要变成两个分别名 {*}_begin，{*}_end</span>
<span class="line">{*}_begin： 表示查询范围开始值</span>
<span class="line">{*}_end:    表示查询范围结束值</span>
<span class="line"></span>
<span class="line">举例：</span>
<span class="line">字段名称 orderDate</span>
<span class="line">查询开始时间 : orderDate_begin</span>
<span class="line">查询结束时间 : orderDate_end</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><h2 id="_3-how-to-integrate-query-filters" tabindex="-1"><a class="header-anchor" href="#_3-how-to-integrate-query-filters"><span>3. How to integrate query filters</span></a></h2><p><strong>Step 1: Implement</strong><br> the query area of ​​the online list of query conditions on the page and add the required query fields, as shown in the figure below.<br><img src="https://upload.jeecg.com/jeecg/help/jeecgback/topwrite/assets/image_1687781084063.png" alt=""></p><p>Effect:<br><img src="https://upload.jeecg.com/jeecg/help/jeecgback/topwrite/assets/image_1687781101965.png" alt=""></p><p>Step 2: Add the following code to the corresponding processing logic in the <strong>controller layer :</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">QueryWrapper&lt;?&gt; queryWrapper = QueryGenerator.initQueryWrapper(?, req.getParameterMap());</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>copy</p><p>Code example:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line"></span>
<span class="line">	@GetMapping(value = &quot;/list&quot;)</span>
<span class="line">	public Result&lt;IPage&lt;JeecgDemo&gt;&gt; list(JeecgDemo jeecgDemo, @RequestParam(name = &quot;pageNo&quot;, defaultValue = &quot;1&quot;) Integer pageNo,</span>
<span class="line">	                                     @RequestParam(name = &quot;pageSize&quot;, defaultValue = &quot;10&quot;) Integer pageSize,</span>
<span class="line">			HttpServletRequest req) {</span>
<span class="line">		Result&lt;IPage&lt;JeecgDemo&gt;&gt; result = new Result&lt;IPage&lt;JeecgDemo&gt;&gt;();</span>
<span class="line"></span>
<span class="line">		//调用QueryGenerator的initQueryWrapper</span>
<span class="line">		QueryWrapper&lt;JeecgDemo&gt; queryWrapper = QueryGenerator.initQueryWrapper(jeecgDemo, req.getParameterMap());</span>
<span class="line"></span>
<span class="line">		Page&lt;JeecgDemo&gt; page = new Page&lt;JeecgDemo&gt;(pageNo, pageSize);</span>
<span class="line">		IPage&lt;JeecgDemo&gt; pageList = jeecgDemoService.page(page, queryWrapper);</span>
<span class="line">		result.setSuccess(true);</span>
<span class="line">		result.setResult(pageList);</span>
<span class="line">		return result;</span>
<span class="line">	}</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p><h2 id="_4-more-query-rule-references" tabindex="-1"><a class="header-anchor" href="#_4-more-query-rule-references"><span>4. More query rule references</span></a></h2><table><thead><tr><th>Query Mode</th><th>usage</th><th>illustrate</th></tr></thead><tbody><tr><td>Fuzzy query</td><td>Support left and right fuzzy and full fuzzy. You need to put * before or after the query input box or put * before and after.</td><td></td></tr><tr><td>Negative query</td><td>Enter ! before the query input box to query the data that is not equal to the input value in this field</td><td>(Numeric types do not support this type of query, you can define the numeric field as a string type)</td></tr><tr><td>in query</td><td>If the incoming data contains , (comma), it means that the query is an in query</td><td></td></tr><tr><td>in query</td><td>To query multiple values ​​of numeric fields, you need to add the suffix &quot;_MultiString&quot; to the field. Other rules are the same as above.</td><td>For example, the entity field , the page accepts the parameter field tableType_MultiString</td></tr><tr><td>Multiple-select field fuzzy query</td><td>For example, if the name input value is a, b, c, then the result sql is name like &#39;%a%&#39; or name like &#39;%b%&#39; or name like &#39;%c%&#39;</td><td>There is a special case in the above 4. If a query field is preceded and followed by commas, it will be considered as this query method. This query method is to separate the query conditions with commas and then traverse the array to query each element as a like query and concatenate them with or.</td></tr></tbody></table><ul><li>Advanced value rule usage (query content, with query rule symbol )</li></ul><table><thead><tr><th>Query Mode</th><th>usage</th><th>Example</th></tr></thead><tbody><tr><td>&lt;</td><td>Less than query. Query content value rule: &quot;lt+ space+ content&quot;</td><td>Input value: &quot;lt 100&quot;</td></tr><tr><td>&lt;=</td><td>Less than or equal to query. Query content value rule: &quot;le+ space+ content&quot;</td><td>Input value: &quot;le 100&quot;</td></tr><tr><td>&gt;</td><td>Greater than query. Query content value rule: &quot;gt+ space+ content&quot;</td><td>Input value: &quot;gt 100&quot;</td></tr><tr><td>&gt;=</td><td>Greater than or equal to query. Query content value rule: &quot;ge+ space+ content&quot;</td><td>Input value: &quot;ge 100&quot;</td></tr></tbody></table><ol><li>Range matching mode, the page query control needs to be changed into two names {}_ <em>begin</em> , {}_end<br> {}_ <em>begin: indicates the start value of the query range</em><br> {}_end: indicates the end value of the query range</li></ol><p>Example:<br><img src="https://lfs.k.topthink.com/lfs/82a898025369b7671d505c2ba6d8372d28192a258a21fdd83cec810c71db7eb6.dat" alt=""><br> Field name costTime<br> Query start: costTime_begin<br> Query end: costTime_end<br> this.queryParam.costTime_begin = costTime_begin;<br> this.queryParam.costTime_end = costTime_end;</p><h2 id="_5-back-end-custom-field-query-rules" tabindex="-1"><a class="header-anchor" href="#_5-back-end-custom-field-query-rules"><span>5. Back-end custom field query rules.</span></a></h2><blockquote><p>Version support: 3.6.4+</p></blockquote><p>For some special cases, when querying, regardless of whether the parameter contains a value rule, the query rule will be executed according to our requirements. You can customize the query rule of the field when calling the query filter. The specific usage is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">    // 自定义查询规则</span>
<span class="line">    Map&lt;String, QueryRuleEnum&gt; customeRuleMap = new HashMap&lt;&gt;();</span>
<span class="line">    // 自定义duoXuan字段的查询规则为：LIKE_WITH_OR</span>
<span class="line">    customeRuleMap.put(&quot;duoXuan&quot;, QueryRuleEnum.LIKE_WITH_OR);</span>
<span class="line">    // 将自定义查询规则传入QueryGenerator</span>
<span class="line">    QueryWrapper&lt;Entity&gt; queryWrapper = QueryGenerator.initQueryWrapper(entity, request.getParameterMap(), customeRuleMap);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>copy</p>`,40)]))}const d=t(r,[["render",i]]),o=JSON.parse('{"path":"/syncboot/common-functions/query-filter-usage.html","title":"Query filter usage","lang":"ko-KR","frontmatter":{"order":5},"git":{"updatedTime":1749179241000,"contributors":[{"name":"poh","username":"poh","email":"poh@empasy.com","commits":1,"url":"https://github.com/poh"}],"changelog":[{"hash":"a96cbbf1f6c96d0e9d6bafa4174131f10429b849","time":1749179241000,"email":"poh@empasy.com","author":"poh","message":"sync 제품군 추가"}]},"filePathRelative":"syncboot/common-functions/query-filter-usage.md"}');export{d as comp,o as data};
